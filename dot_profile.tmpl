if [ -n "$BASH_VERSION" ]; then
	if [ -f "$HOME/.bashrc" ]; then
		. "$HOME/.bashrc"
	fi
fi

PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin"

source_env_files() {
	for env_file; do
		if [ -f "$env_file" ] && [ -r "$env_file" ]; then
			. "$env_file"
		fi
	done
}

prepend_to_PATH() {
	for d; do
		d=$({ cd -- "$d" && { pwd -P || pwd; }; } 2>/dev/null) # canonicalize symbolic links
		if [ -d "$d" ]; then
			case ":$PATH:" in
			*":$d:"*) : ;;
			*)
				PATH="$d:$PATH"
				;;
			esac
		fi # skip nonexistent directory
	done
}

{{- if eq .chezmoi.fqdnHostname "rbmpc" }}
prepend_to_PATH "$HOME/devbox/.local/bin"
{{ end -}}

{{- if eq .chezmoi.fqdnHostname "dev.rbmpc" }}
prepend_to_PATH "$HOME/.cargo/bin"
	
source <(starship init bash)
source <(atuin init bash)
source <(mise activate bash)
{{ end -}}

prepend_to_PATH \
	"$HOME/.local/bin"

export NIX_CONFIG="experimental-features = nix-command flakes"
export CHECKPOINT_DISABLE=1
export MISE_NODE_COREPACK=true

export EDITOR=nvim
export VISUAL=nvim

